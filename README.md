# YOLOv8 Keypoints 标注工具（增强版）

本项目是一个基于 PyQt5 的窗口化数据集标注工具，支持 YOLOv8 keypoints 格式的人工和自动标注。你可以用鼠标点击/拖拽设置关键点，支持多类别、多目标标注，并可批量导入/导出标签文件。还支持上传训练好的 YOLOv8 `.pt` 模型，对全部图片进行 AI 自动标注。

## 主要功能

- **窗口化可视化标注**：支持鼠标点击添加关键点，拖拽微调关键点位置。
- **多类别/多目标支持**：可自定义多个类别，每个类别可设置不同数量和名称的关键点；每张图片可标注多个目标。
- **标签文件导入/导出**：支持 YOLOv8 keypoints 格式标签文件，自动识别所有类别和目标。
- **AI 自动标注**：可上传训练好的 YOLOv8 `.pt` 模型，一键自动标注全部图片。
- **标签格式自动兼容**：自动归一化关键点坐标，标签格式严格符合 YOLOv8 keypoints 规范。
- **批量保存/加载**：支持批量保存和加载标签，便于模型训练和数据管理。

## 安装与运行

你可以直接下载本项目的 exe 安装程序，无需安装 Python 环境和依赖库。  
请前往 [GitHub Releases](https://github.com/你的仓库/releases) 页面下载最新版安装包，双击安装即可使用。

> **注意**：如需使用 AI 自动标注功能，请确保你的电脑已联网，并准备好训练好的 YOLOv8 `.pt` 模型文件。

## 使用方法

1. **启动程序**  
   双击运行 exe 文件，进入主界面。

2. **人工标注流程**
   - 点击左侧“打开图像文件夹”选择图片目录。
   - 点击“选择标签文件夹”选择标签保存目录（可选，默认与图片同级）。
   - 点击“添加新类别”自定义类别和关键点名称。
   - 在图片上点击添加关键点，拖拽调整位置。
   - 支持多目标标注：点击“新建标注”可为同一图片添加多个目标，左侧“标注目标列表”可切换编辑不同目标。
   - 点击“保存标注”或“保存标签文件”保存标签。

3. **自动标注流程**
   - 点击“选择 .pt 模型”上传训练好的 YOLOv8 权重文件。
   - 点击“AI 标注全部图像”自动对所有图片进行批量标注，标签自动保存到标签目录。
   - 自动标注不会影响人工标注功能，可随时切换。

4. **标签格式说明**
   - 标签文件每行为一个目标，格式如下：

     ```
     类别ID x_center y_center width height kp1_x kp1_y kp2_x kp2_y ...（归一化坐标，6位小数）
     ```

   - 支持多类别、多目标，每个目标的类别和关键点数自动识别。

## 常见问题

- **自动标注依赖 ultralytics**  
  请确保已上传正确的 YOLOv8 `.pt` 模型，否则自动标注功能不可用。
- **标签格式兼容**  
  程序自动兼容 YOLOv8 keypoints 标签格式，支持归一化和像素坐标自动转换。
- **多目标切换**  
  左侧“标注目标列表”可切换并编辑每个目标，支持拖拽微调关键点。

## 反馈与贡献

如有疑问或建议，请在 GitHub 仓库的 issue 区留言。欢迎提交 pull request 改进本工具。

---

**作者：ZichenFeng**  
**项目地址：** [GitHub 仓库链接（请补充）]

---
